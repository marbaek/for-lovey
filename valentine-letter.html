<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .envelope::before {
            content: "";
            position: absolute;
            top: 0;
            z-index: 2;
            border-top: 200px solid #ffb3ba;
            border-right: 300px solid transparent;
            border-left: 300px solid transparent;
            transform-origin: top;
            transition: all 0.5s ease-in-out 0.7s;
        }
        .envelope::after {
            content: "";
            position: absolute;
            z-index: 2;
            border-top: 200px solid transparent;
            border-right: 300px solid #ffcccb;
            border-bottom: 150px solid #ffcccb;
            border-left: 300px solid #ffcccb;
        }
        .envelope-wrapper.flap > .envelope::before {
            transform: rotateX(180deg);
            z-index: 0;
        }
        .envelope-wrapper.flap > .envelope > .letter {
            transform: translateY(-100px) scale(1.5);
            transition-delay: 1s;
        }
        .envelope-wrapper.flap.pull > .envelope::before {
            transform: rotateX(180deg);
            z-index: 0;
        }
        .envelope-wrapper.flap.pull > .envelope > .letter {
            transform: translateY(-100px) scale(1.5);
            transition-delay: 0s;
            z-index: 25;
            animation: letterPop 0.5s ease-out;
        }
        @keyframes letterPop {
            0% { transform: translateY(-100px) scale(1.5); }
            50% { transform: translateY(-100px) scale(1.7); }
            100% { transform: translateY(-100px) scale(1.5); }
        }
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.8; }
            90% { opacity: 0.8; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        .floating-heart {
            position: absolute;
            font-size: 20px;
            opacity: 0;
            animation: float 6s ease-in infinite;
        }
        .floating-heart:nth-child(1) { left: 10%; animation-delay: 0s; }
        .floating-heart:nth-child(2) { left: 30%; animation-delay: 2s; }
        .floating-heart:nth-child(3) { left: 50%; animation-delay: 4s; }
        .floating-heart:nth-child(4) { left: 70%; animation-delay: 1s; }
        .floating-heart:nth-child(5) { left: 90%; animation-delay: 3s; }
        .letter::-webkit-scrollbar {
            width: 4px;
        }
        .letter::-webkit-scrollbar-track {
            background: transparent;
        }
        .letter::-webkit-scrollbar-thumb {
            background: rgba(239, 68, 68, 0.2);
            border-radius: 2px;
        }
        .letter::-webkit-scrollbar-thumb:hover {
            background: rgba(239, 68, 68, 0.3);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-red-400 via-red-600 to-red-900 flex items-center justify-center font-serif">
    
    <div class="fixed inset-0 pointer-events-none z-[1]">
        <div class="floating-heart">‚ù§Ô∏è</div>
        <div class="floating-heart">üíï</div>
        <div class="floating-heart">üíñ</div>
        <div class="floating-heart">‚ù§Ô∏è</div>
        <div class="floating-heart">üíï</div>
    </div>

    <div class="h-screen grid place-items-center">
        <div class="envelope-wrapper bg-[#ffcccb] shadow-[0_0_40px_rgba(0,0,0,0.3)] w-[600px] h-[350px] relative overflow-visible">
            <div class="envelope relative w-[600px] h-[350px] cursor-pointer">
                <div class="letter absolute left-[18%] bottom-0 w-[65%] h-[82%] bg-white flex items-center justify-center transition-all duration-1000 ease-in-out shadow-[0_0_5px_rgba(0,0,0,0.2)] p-[18px_12px_60px_12px] overflow-y-auto cursor-default">
                    <button class="toggle-btn absolute top-[5px] right-[5px] bg-red-500 text-white border-none px-[10px] py-[6px] rounded-md cursor-pointer text-[9px] shadow-[0_2px_5px_rgba(0,0,0,0.2)] transition-all duration-300 hover:bg-red-600 hover:scale-105" id="toggleBtn">Pull Out</button>
                    <div class="text font-['Brush_Script_MT',cursive] text-gray-700 text-left text-[10px] leading-relaxed w-full mt-5">
                        <p class="italic mb-2 font-bold">My Dearest Love,</p>
                        <p class="mb-2">I hope this letter finds you in good health and high spirits. On this special day of Valentine's, I feel compelled to express the depth of my affection and admiration for you.</p>
                        <p class="mb-2">It is with great sincerity that I write to inform you of the profound impact you have had upon my life. Your presence brings light to my darkest days, and your companionship fills my heart with immeasurable joy.</p>
                        <p class="mb-2">I find myself continually grateful for the moments we share together. Your smile remains my greatest treasure, your laughter my most cherished melody, and your happiness my foremost concern.</p>
                        <p class="mb-2">Please accept this humble expression of my devotion. You have transformed the ordinary into the extraordinary, and for that, I am eternally grateful.</p>
                        <div class="text-right italic mt-3 mb-5">
                            <p>With deepest affection and warmest regards,<br><strong>Marvic</strong></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const envelopeWrapper = document.querySelector('.envelope-wrapper');
        const envelope = document.querySelector('.envelope');
        const toggleBtn = document.getElementById('toggleBtn');
        let isOpen = false;
        let isPulled = false;
        
        envelope.addEventListener('click', (e) => {
            if (!e.target.closest('.letter') && !e.target.closest('.toggle-btn') && !isOpen) {
                envelopeWrapper.classList.add('flap');
                isOpen = true;
            }
        });
        
        toggleBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            if (isOpen) {
                if (isPulled) {
                    envelopeWrapper.classList.remove('pull');
                    toggleBtn.textContent = 'Pull Out';
                    isPulled = false;
                } else {
                    envelopeWrapper.classList.add('pull');
                    toggleBtn.textContent = 'Pull In';
                    isPulled = true;
                }
            }
        });
    </script>
</body>
</html>
